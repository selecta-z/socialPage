{"version":3,"file":"react-smart-scroller.umd.development.js","sources":["../src/lib/common/constants.ts","../src/lib/common/paddingCount.ts","../src/lib/utils/helpers.ts","../src/lib/utils/server.ts","../src/lib/utils/deviceDetect.ts","../src/lib/styles/colors.ts","../src/components/ReactSmartScrollerVertical.tsx","../src/components/ReactSmartScrollerHorizontal.tsx","../src/components/ReactSmartScrollerPagination.tsx","../src/components/ReactSmartScroller.tsx"],"sourcesContent":["export const reactSmartScrollerId = 'react-smart-scroller'\n","export enum PaddingCount {\n    One = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4\n}\n","import { KeyValuePair } from '../types'\nimport { PaddingCount } from '../common'\n\n// tslint:disable-next-line:no-any\nconst all = (...params: Array<any>) => params.every(Boolean)\nconst clearObject = (value: KeyValuePair) => Object\n    .keys(value)\n    .filter(key => Boolean(value[key]))\n    .reduce((acc, curr) => ({\n        ...acc,\n        [curr]: value[curr]\n    }), {})\nconst noop = () => {}\n\nexport {\n    clearObject,\n    all,\n    noop\n}\n\nexport const extractNumberFromStyle = (value?: string | number | null | undefined) => value\n    ? Number(value.toString().replace('px', ''))\n    : undefined\n\nexport const getPaddingValues = (\n    padding?: string | number,\n    paddingLeft?: string | number,\n    paddingRight?: string | number,\n    paddingTop?: string | number,\n    paddingBottom?: string | number\n) => {\n    const zeroPadding = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n\n    if (!padding && !paddingLeft && !paddingRight && !paddingTop && !paddingBottom) {\n        return zeroPadding\n    }\n\n    if (!padding) {\n        return {\n            ...zeroPadding,\n            right: extractNumberFromStyle(paddingRight),\n            left: extractNumberFromStyle(paddingLeft),\n            top: extractNumberFromStyle(paddingTop),\n            bottom: extractNumberFromStyle(paddingBottom)\n        }\n    }\n\n    const splittedPadding = padding.toString().split(' ')\n    const paddingValuesCount = splittedPadding.length\n    const paddingValues = splittedPadding.map(extractNumberFromStyle)\n\n    switch (paddingValuesCount) {\n        case PaddingCount.One: {\n            const [ padding ] = paddingValues\n\n            return {\n                top: padding,\n                right: padding,\n                bottom: padding,\n                left: padding\n            }\n        }\n        case PaddingCount.Two: {\n            const [ paddingVertical, paddingHorizontal ] = paddingValues\n\n            return {\n                top: paddingVertical,\n                right: paddingHorizontal,\n                bottom: paddingVertical,\n                left: paddingHorizontal\n            }\n        }\n        case PaddingCount.Three: {\n            const [ paddingTop, paddingHorizontal, paddingBottom ] = paddingValues\n\n            return {\n                top: paddingTop,\n                right: paddingHorizontal,\n                bottom: paddingBottom,\n                left: paddingHorizontal\n            }\n        }\n        case PaddingCount.Four:\n        default: {\n            const [ top, right, bottom, left ] = paddingValues\n\n            return {\n                top,\n                right,\n                bottom,\n                left\n            }\n        }\n    }\n}\n","export const isServer = () => typeof window === 'undefined'\n","import { isServer } from './server'\n\nexport const checkAgent = (agentName: string) => !isServer()\n    ? navigator.userAgent.includes(agentName)\n    : false\n\nexport const isIpad = () => checkAgent('iPad')\nexport const isIOS = () => checkAgent('iPhone') || isIpad()\nexport const isAndroid = () => checkAgent('Android')\nexport const isMsEdge = () => checkAgent('Edge')\nexport const isMacOs = () => checkAgent('Mac')\nexport const isMobile = () => isAndroid() || isIOS()\n","export const colors = {\n    primary: '#2ecc71',\n    secondary: '#27ae60',\n    typography: '#2c3e50',\n    red: '#e74c3c',\n    white: '#ffffff',\n    black: '#000000',\n    peterRiver: '#3498db',\n    sunflower: '#f1c40f',\n    gray: {\n        lightGray: '#ecf0f1',\n        mediumGray: '#bdc3c7',\n        darkGray: '#9ca2a7',\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Padding, ReactSmartScrollerProps } from 'lib/types'\nimport { C, isMacOs, isMobile } from 'lib/utils'\nimport { colors } from 'lib/styles'\nimport { constants } from 'lib/common'\n\ntype ReactSmartSliderVerticalState = {\n    scrollContainerHeight: number,\n    deltaYOrigin: number,\n    deltaY: number,\n    thumbWidth: number,\n    trackWidth: number,\n    scrollHeight: number,\n    scrollTop: number,\n    padding: Padding,\n    ratio: number\n}\n\nexport class ReactSmartScrollerVertical extends React.Component<ReactSmartScrollerProps, ReactSmartSliderVerticalState> {\n    state: ReactSmartSliderVerticalState = {\n        scrollContainerHeight: 0,\n        deltaYOrigin: 0,\n        deltaY: 0,\n        thumbWidth: 0,\n        trackWidth: 0,\n        scrollHeight: 0,\n        scrollTop: 0,\n        padding: this.trackPadding,\n        ratio: 1\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private thumbRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private trackRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.measureContainers = this.measureContainers.bind(this)\n        this.onMouseDown = this.onMouseDown.bind(this)\n        this.onMouseDrag = this.onMouseDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.deleteMouseMoveEvent = this.deleteMouseMoveEvent.bind(this)\n        this.onScrollbarClick = this.onScrollbarClick.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.addEventListener('transitionend', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.addEventListener('load', this.measureContainers)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.removeEventListener('transitionend', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.measureContainers)\n    }\n\n    get shouldRenderScrollbar() {\n        const overflownRef = this.overflowContainerRef.current\n        const cols = this.props.numCols as number\n\n        if (!cols && overflownRef) {\n            return overflownRef.clientHeight < overflownRef.scrollHeight\n        }\n\n        return !(overflownRef && overflownRef.children.length <= cols)\n    }\n\n    get trackPadding() {\n        const { trackProps } = this.props\n\n        return trackProps\n            ? C.getPaddingValues(\n                trackProps.padding,\n                trackProps.paddingLeft,\n                trackProps.paddingRight,\n                trackProps.paddingTop,\n                trackProps.paddingBottom\n            ) as Padding : {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0\n            }\n    }\n\n    get contentMargin() {\n        const { thumbWidth, trackWidth } = this.state\n        const windowsScrollWidth = 20\n        const marginWidth = trackWidth > thumbWidth ? trackWidth : thumbWidth\n        const margin = isMacOs() ? marginWidth + windowsScrollWidth : marginWidth\n\n        return !isMobile() && this.shouldRenderScrollbar\n            ? `${margin + 10}px`\n            : '20px'\n    }\n\n    get rightOffset() {\n        return this.state.thumbWidth > this.state.trackWidth\n            ? (this.state.thumbWidth - this.state.trackWidth) / 2\n            : 0\n    }\n\n    get startElement() {\n        if (this.props.startAt) {\n            return document.getElementById(`${constants.reactSmartScrollerId}-${this.props.startAt.startIndex}`)\n        }\n\n        return undefined\n    }\n\n    setStartPosition() {\n        const { startAt } = this.props\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const startElement = this.startElement\n\n        this.measureContainers()\n\n        if (overflowRef && startElement) {\n            const offset = startAt && startAt.center\n                ? (overflowRef.clientHeight - startElement.clientHeight) / 2\n                : 0\n\n            overflowRef.scrollTop = startElement.offsetTop - offset\n        }\n    }\n\n    scrollContainerReducedHeight(scrollContainerHeight: number) {\n        const { padding } = this.state\n\n        return scrollContainerHeight - (padding.top + padding.bottom)\n    }\n\n    measureContainers(event?: Event) {\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const trackRef = this.trackRef.current as HTMLDivElement\n        const areRefsCurrent = C.all(\n            overflownRef,\n            thumbRef,\n            trackRef\n        )\n\n        if (areRefsCurrent) {\n            const scrollContainerHeight = this.scrollContainerReducedHeight(overflownRef.clientHeight)\n            const maximumOffset = scrollContainerHeight - thumbRef.offsetHeight\n            const ratio = maximumOffset / (overflownRef.scrollHeight - overflownRef.clientHeight)\n\n            this.setState({\n                scrollContainerHeight,\n                thumbWidth: thumbRef.offsetWidth,\n                trackWidth: trackRef.clientWidth,\n                scrollHeight: overflownRef.scrollHeight,\n                ratio\n            }, () => {\n                if (event && event.type === 'load') {\n                    this.setStartPosition()\n                }\n            })\n        }\n\n        if (areRefsCurrent && thumbRef.offsetTop + thumbRef.offsetHeight > overflownRef.clientHeight) {\n            const scrollOffset = overflownRef.clientHeight - thumbRef.offsetHeight\n\n            overflownRef.scroll(0, overflownRef.scrollHeight)\n            thumbRef.style.top = `${scrollOffset}px`\n        }\n    }\n\n    onMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n\n        if (thumbRef && overflownRef) {\n            this.setState({\n                deltaYOrigin: thumbRef.offsetTop,\n                deltaY: event.clientY + this.state.padding.top\n            })\n        }\n\n        window.addEventListener('mousemove', this.onMouseDrag)\n    }\n\n    onScrollbarClick({ clientY }: React.MouseEvent) {\n        const { padding } = this.state\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const shouldReturn = C.all(\n            thumbRef,\n            overflowRef,\n            clientY >= ((C.extractNumberFromStyle(thumbRef.style.top) || 0) + overflowRef.getBoundingClientRect().top + padding.top),\n            clientY <= ((C.extractNumberFromStyle(thumbRef.style.top) || 0) + overflowRef.getBoundingClientRect().top + thumbRef.offsetHeight + padding.top)\n        )\n\n        // leave this function if thumb was clicked\n        if (shouldReturn) {\n            return null\n        }\n\n        const maximumOffset = this.state.scrollContainerHeight - thumbRef.offsetHeight\n        // this is different ratio than in state\n        const ratio = (overflowRef.scrollHeight - overflowRef.clientHeight) / maximumOffset\n        const deltaY = overflowRef.getBoundingClientRect().top + (thumbRef.offsetHeight / 2) + padding.top\n\n        return overflowRef.scroll({\n            top: ratio * (clientY - deltaY),\n            left: 0,\n            behavior: 'smooth'\n        })\n    }\n\n    deleteMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onMouseDrag)\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onMouseDrag(event: DragEvent | MouseEvent) {\n        const zero = 0\n        const { deltaY, deltaYOrigin, scrollContainerHeight, padding } = this.state\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const maximumOffset = scrollContainerHeight - thumbRef.offsetHeight\n        const offset = event.clientY - deltaY + deltaYOrigin + padding.top\n        const isBetweenClientHeight = offset >= zero && offset <= maximumOffset\n        const areRefsCurrent = C.all(\n            Boolean(this.overflowContainerRef.current),\n            Boolean(this.thumbRef.current)\n        )\n\n        if (areRefsCurrent && !isBetweenClientHeight) {\n            const criticalDimension = offset < zero ? zero: maximumOffset\n            const criticalScrollerDimensions = offset > zero\n                ? overflowRef.scrollHeight - overflowRef.offsetHeight\n                : zero\n\n            thumbRef.style.top = `${criticalDimension}px`\n            overflowRef.scroll(zero, criticalScrollerDimensions)\n        }\n\n        if (areRefsCurrent && isBetweenClientHeight) {\n            // this is different ratio than in state\n            const ratio = (overflowRef.scrollHeight - overflowRef.offsetHeight) / maximumOffset\n\n            overflowRef.scroll(zero, ratio * offset)\n            thumbRef.style.top = `${offset}px`\n        }\n    }\n\n    onOverflowContentScroll() {\n        const { ratio } = this.state\n        const thumbRef = this.thumbRef.current  as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && thumbRef) {\n            thumbRef.style.top = `${overflowRef.scrollTop * ratio}px`\n        }\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef) {\n            this.setState({\n                deltaY: event.clientY,\n                scrollTop: overflowRef.scrollTop\n            })\n        }\n\n        window.addEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onOverflowContentDrag(event: MouseEvent) {\n        const { deltaY, scrollTop } = this.state\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && event.clientY !== 0) {\n            overflowRef.scroll(0, scrollTop - (event.clientY - deltaY))\n        }\n    }\n\n    renderThumb() {\n        const { scrollContainerHeight, scrollHeight } = this.state\n        const percentageWidth = Number(((scrollContainerHeight * 100) / scrollHeight).toFixed(0))\n        const height = `${(percentageWidth * scrollContainerHeight) / 100}px`\n\n        if (this.props.thumb) {\n            return React.cloneElement(\n                this.props.thumb,\n                {\n                    ref: this.thumbRef,\n                    onMouseDown: this.onMouseDown,\n                    style: {\n                        top: 0,\n                        position: 'relative',\n                        cursor: 'pointer',\n                        ...this.props.thumb.props.style\n                    }\n                }\n            )\n        }\n\n        return (\n            <RectangleThumb\n                ref={this.thumbRef}\n                onMouseDown={this.onMouseDown}\n                style={{ height }}\n            />\n        )\n    }\n\n    renderScrollbar() {\n        const display = !isMobile() && this.shouldRenderScrollbar\n\n        return (\n            <Track\n                ref={this.trackRef}\n                onClick={this.onScrollbarClick}\n                style={{\n                    color: colors.gray.mediumGray,\n                    right: this.rightOffset,\n                    display: display ? 'flex' : 'none',\n                    ...this.props.trackProps\n                }}\n            >\n                <EmptyAbsolute>\n                    {this.renderThumb()}\n                </EmptyAbsolute>\n            </Track>\n        )\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingBottom = index !== React.Children.count(children) - 1\n                ? `paddingBottom: ${padding}px`\n                : undefined\n            const paddingTop = index !== 0\n                ? `paddingTop: ${padding}px`\n                : undefined\n            const height = cols ? `calc(100% / ${cols})` : 'auto'\n            const extendedChild = React.cloneElement(\n                children[index],\n                {\n                    style: {\n                        display: 'flex',\n                        ...children[index].props.style\n                    }\n                }\n            )\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `${padding}px 0`,\n                        height,\n                        paddingTop,\n                        paddingBottom,\n                        marginRight: this.contentMargin\n                    }}\n                >\n                    {extendedChild}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    render() {\n        const { draggable, style } = this.props\n        const cursor = draggable ? 'pointer' : 'unset'\n\n        return (\n            <div style={style}>\n                <Content\n                    style={{ cursor }}\n                    ref={this.overflowContainerRef}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={draggable ? this.onOverflowContentMouseDown : C.noop}\n                >\n                    {this.renderChildren()}\n                </Content>\n                {this.renderScrollbar()}\n            </div>\n        )\n    }\n}\n\nexport const Content = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    margin-right: -20px;\n    -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n    box-sizing: border-box;\n`\n\nexport const Track = styled.div`\n    position: absolute;\n    cursor: pointer;\n    right: 0;\n    height: 100%;\n    background-color: ${colors.gray.mediumGray};\n    top: 0;\n    width: 10px;\n    display: flex;\n    justify-content: center;\n`\n\nexport const RectangleThumb = styled.div`\n    position: relative;\n    background-color: ${colors.primary};\n    cursor: pointer;\n    width: 10px;\n    height: 100%;\n`\n\nexport const EmptyAbsolute = styled.div`\n    position: absolute;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { colors } from 'lib/styles'\nimport { Padding, ReactSmartScrollerProps } from 'lib/types'\nimport { C, isMobile, isMacOs } from 'lib/utils'\nimport { constants } from 'lib/common'\n\ntype ReactSmartScrollerHorizontalState = {\n    scrollContainerWidth: number,\n    deltaXOrigin: number,\n    deltaX: number,\n    thumbHeight: number,\n    trackHeight: number,\n    scrollWidth: number,\n    scrollLeft: number,\n    padding: Padding,\n    ratio: number,\n    numberOfViews: number,\n    paginationIndex: number\n}\n\nexport class ReactSmartScrollerHorizontal extends React.Component<ReactSmartScrollerProps, ReactSmartScrollerHorizontalState> {\n    static defaultProps: Partial<ReactSmartScrollerProps> = {\n        spacing: 0,\n        vertical: false,\n        draggable: false,\n        pagination: false\n    }\n\n    state: ReactSmartScrollerHorizontalState = {\n        scrollContainerWidth: 0,\n        deltaXOrigin: 0,\n        deltaX: 0,\n        thumbHeight: 0,\n        trackHeight: 0,\n        scrollWidth: 0,\n        scrollLeft: 0,\n        padding: this.trackPadding,\n        ratio: 1,\n        numberOfViews: 0,\n        paginationIndex: 0\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private thumbRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private trackRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private paginationRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.onPrevious = this.onPrevious.bind(this)\n        this.onDotClick = this.onDotClick.bind(this)\n        this.measureContainers = this.measureContainers.bind(this)\n        this.onMouseDown = this.onMouseDown.bind(this)\n        this.onMouseDrag = this.onMouseDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.deleteMouseMoveEvent = this.deleteMouseMoveEvent.bind(this)\n        this.onScrollbarClick = this.onScrollbarClick.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        this.setState({\n            numberOfViews: this.numberOfViews\n        })\n\n        window.addEventListener('resize', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.addEventListener('transitionend', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.addEventListener('load', this.measureContainers)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.removeEventListener('transitionend', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.measureContainers)\n    }\n\n    get shouldRenderScrollbar() {\n        const overflownRef = this.overflowContainerRef.current\n        const cols = this.props.numCols as number\n\n        if (!cols && overflownRef) {\n            return overflownRef.clientWidth < overflownRef.scrollWidth\n        }\n\n        return !(overflownRef && overflownRef.children.length <= cols)\n    }\n\n    get trackPadding() {\n        const { trackProps } = this.props\n\n        return trackProps\n            ? C.getPaddingValues(\n                trackProps.padding,\n                trackProps.paddingLeft,\n                trackProps.paddingRight,\n                trackProps.paddingTop,\n                trackProps.paddingBottom\n            ) as Padding : {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0\n            }\n    }\n\n    get contentMargin() {\n        const { thumbHeight, trackHeight } = this.state\n        const windowsScrollHeight = 20\n        const marginHeight = trackHeight > thumbHeight ? trackHeight : thumbHeight\n        const margin = isMacOs() ? marginHeight + windowsScrollHeight : marginHeight\n\n        return !isMobile() && this.shouldRenderScrollbar\n            ? `${margin + 10}px`\n            : '20px'\n    }\n\n    get bottomOffset() {\n        return this.state.thumbHeight > this.state.trackHeight\n            ? (this.state.thumbHeight - this.state.trackHeight) / 2\n            : 0\n    }\n\n    get startElement() {\n        if (this.props.startAt) {\n            return document.getElementById(`${constants.reactSmartScrollerId}-${this.props.startAt.startIndex}`)\n        }\n\n        return undefined\n    }\n\n    get childrenCount() {\n        return React.Children.count(this.props.children)\n    }\n\n    get numberOfViews() {\n        const numCols = this.props.numCols || 1\n\n        return Math.ceil(this.childrenCount / numCols)\n    }\n\n    get childrenWidth() {\n        return React.Children.map(this.props.children, (_, index) => {\n            return {\n                value: this.overflowContainerRef.current?.children.item(index)?.clientWidth || 0,\n                index: index\n            }\n        })\n    }\n\n    scrollContainerReducedWidth(scrollContainerWidth: number) {\n        const { padding } = this.state\n\n        return scrollContainerWidth - (padding.left + padding.right)\n    }\n\n    setStartPosition() {\n        const { startAt } = this.props\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const startElement = this.startElement\n\n        this.measureContainers()\n\n        if (overflowRef && startElement) {\n            const offset = startAt && startAt.center\n                ? (overflowRef.clientWidth - startElement.clientWidth) / 2\n                : 0\n\n            overflowRef.scrollLeft = startElement.offsetLeft - offset\n        }\n    }\n\n    measureContainers(event?: Event) {\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const trackRef = this.trackRef.current as HTMLDivElement\n        const areRefsCurrent = C.all(\n            overflownRef,\n            thumbRef,\n            trackRef\n        )\n\n        if (areRefsCurrent) {\n            const scrollContainerWidth = this.scrollContainerReducedWidth(overflownRef.clientWidth)\n            const maximumOffset = scrollContainerWidth - thumbRef.offsetWidth\n            const ratio = maximumOffset / (overflownRef.scrollWidth - overflownRef.clientWidth)\n\n            this.setState({\n                scrollContainerWidth,\n                thumbHeight: thumbRef.offsetHeight,\n                trackHeight: trackRef.clientHeight,\n                scrollWidth: overflownRef.scrollWidth,\n                ratio\n            }, () => {\n                if (event && event.type === 'load') {\n                    this.setStartPosition()\n                }\n            })\n        }\n\n        if (areRefsCurrent && thumbRef.offsetLeft + thumbRef.clientWidth > overflownRef.clientWidth) {\n            const scrollOffset = overflownRef.clientWidth - thumbRef.clientWidth\n\n            overflownRef.scroll(overflownRef.scrollWidth, 0)\n            thumbRef.style.left = `${scrollOffset}px`\n        }\n    }\n\n    onMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        if (this.thumbRef.current) {\n            this.setState({\n                deltaXOrigin: this.thumbRef.current.offsetLeft,\n                deltaX: event.clientX + this.state.padding.left\n            })\n        }\n\n        window.addEventListener('mousemove', this.onMouseDrag)\n    }\n\n    onScrollbarClick({ clientX }: React.MouseEvent) {\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const shouldReturn = C.all(\n            thumbRef,\n            overflowRef,\n            clientX >= (thumbRef.offsetLeft + overflowRef.getBoundingClientRect().left),\n            clientX <= (thumbRef.offsetLeft + overflowRef.getBoundingClientRect().left + thumbRef.offsetWidth)\n        )\n\n        // leave this function if thumb was clicked\n        if (shouldReturn) {\n            return null\n        }\n\n        const maximumOffset = this.state.scrollContainerWidth - thumbRef.offsetWidth\n        // this is different ratio than in state\n        const ratio = (overflowRef.scrollWidth - overflowRef.clientWidth) / maximumOffset\n        const deltaX = overflowRef.getBoundingClientRect().left + (thumbRef.offsetWidth / 2) + this.state.padding.left\n\n        return overflowRef.scroll({\n            left: ratio * (clientX - deltaX),\n            top: 0,\n            behavior: 'smooth'\n        })\n    }\n\n    deleteMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onMouseDrag)\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onMouseDrag(event: DragEvent | MouseEvent) {\n        const zero = 0\n        const { deltaX, deltaXOrigin, scrollContainerWidth } = this.state\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const maximumOffset = scrollContainerWidth - thumbRef.offsetWidth\n        const offset = event.clientX - deltaX + deltaXOrigin\n        const isBetweenClientWidth = offset >= zero && offset <= maximumOffset\n        const areRefsCurrent = C.all(\n            Boolean(this.overflowContainerRef.current),\n            Boolean(this.thumbRef.current)\n        )\n\n        if (areRefsCurrent && !isBetweenClientWidth) {\n            const criticalDimension = offset < zero ? zero : maximumOffset\n            const criticalScrollerDimensions = offset > zero\n                ? overflowRef.scrollWidth - overflowRef.clientWidth\n                : zero\n\n            thumbRef.style.left = `${criticalDimension}px`\n            overflowRef.scroll(criticalScrollerDimensions, zero)\n        }\n\n        if (areRefsCurrent && isBetweenClientWidth) {\n            // this is different ratio than in state\n            const ratio = (overflowRef.scrollWidth - overflowRef.clientWidth) / maximumOffset\n\n            overflowRef.scroll(ratio * offset, zero)\n            thumbRef.style.left = `${offset}px`\n        }\n    }\n\n    onOverflowContentScroll() {\n        const { ratio } = this.state\n        const thumbRef = this.thumbRef.current  as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && thumbRef) {\n            thumbRef.style.left = `${overflowRef.scrollLeft * ratio}px`\n        }\n\n        // logic to pagination\n        const leftScroll = overflowRef?.scrollLeft || 0\n        const properChildrenOffsets = this.childrenWidth?.reduce((acc, element, index) => {\n            return acc.concat({\n                index: index + 1,\n                value: element.value + (acc[index - 1]?.value || 0)\n            })\n        }, [] as Array<{ value: number, index: number }>)\n        const searchedElement = properChildrenOffsets?.reverse()?.find(item => leftScroll >= item.value)\n\n        this.setState({\n            paginationIndex: searchedElement\n                ? searchedElement.index\n                : 0\n        })\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef) {\n            this.setState({\n                deltaX: event.clientX,\n                scrollLeft: overflowRef.scrollLeft\n            })\n        }\n\n        window.addEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onOverflowContentDrag(event: MouseEvent | DragEvent) {\n        const { deltaX, scrollLeft } = this.state\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && event.clientX !== 0) {\n            overflowRef.scroll(scrollLeft - (event.clientX - deltaX), 0)\n        }\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingRight = index !== React.Children.count(children) - 1\n                ? `paddingRight: ${padding}px`\n                : undefined\n            const paddingLeft = index !== 0\n                ? `paddingLeft: ${padding}px`\n                : undefined\n            const flexBasis = cols ? `calc(100% / ${cols})` : 'unset'\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `0 ${padding}px`,\n                        flexBasis,\n                        paddingRight,\n                        paddingLeft,\n                        marginBottom: this.contentMargin\n                    }}\n                >\n                    {child}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    renderThumb() {\n        const { scrollContainerWidth, scrollWidth } = this.state\n        const percentageWidth = Number(((scrollContainerWidth * 100) / scrollWidth).toFixed(0))\n        const width = `${(percentageWidth * scrollContainerWidth) / 100}px`\n\n        if (this.props.thumb) {\n            return React.cloneElement(\n                this.props.thumb,\n                {\n                    ref: this.thumbRef,\n                    onMouseDown: this.onMouseDown,\n                    style: {\n                        left: 0,\n                        position: 'relative',\n                        cursor: 'pointer',\n                        ...this.props.thumb.props.style\n                    }\n                }\n            )\n        }\n\n        return (\n            <RectangleThumb\n                ref={this.thumbRef}\n                onMouseDown={this.onMouseDown}\n                style={{ width }}\n            />\n        )\n    }\n\n    renderScrollbar() {\n        const display = !isMobile() && this.shouldRenderScrollbar && !this.props.pagination\n        const customStyles = this.props.paginationConfig?.withScroll ? {\n            bottom: this.paginationRef.current?.clientHeight || 40\n        } as React.CSSProperties : {\n            bottom: 0\n        } as React.CSSProperties\n\n        return (\n            <Track\n                ref={this.trackRef}\n                onClick={this.onScrollbarClick}\n                style={{\n                    color: colors.gray.mediumGray,\n                    bottom: this.bottomOffset,\n                    display: display ? 'flex' : 'none',\n                    ...this.props.trackProps,\n                    ...customStyles\n                }}\n            >\n                {this.renderThumb()}\n            </Track>\n        )\n    }\n\n    onNext() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const newScrollValue = overflowRef.children.item(paginationIndex)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft + newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    onPrevious() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = overflowRef.children.item(index)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft - newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    onDotClick(index: number) {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll) {\n            const newScrollValue = (overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0\n\n            overflowRef.scroll({\n                left: newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    renderDots() {\n        const { paginationConfig } = this.props\n\n        return Array.from(Array(this.numberOfViews)).map((_, index) => {\n            const backgroundColor = this.state.paginationIndex === index\n                ? paginationConfig?.activeDotColor || colors.primary\n                : paginationConfig?.unactiveDotsColor || colors.gray.mediumGray\n\n            return (\n                <Dot\n                    key={index}\n                    style={{ backgroundColor }}\n                    onClick={() => this.onDotClick(index)}\n                />\n            )\n        })\n    }\n\n    renderPagination() {\n        const { renderPagination, paginationConfig } = this.props\n        const customStyles = paginationConfig?.withScroll ? {\n            marginTop: 20\n        } as React.CSSProperties : {\n            marginTop: 'unset'\n        } as React.CSSProperties\n\n        if (renderPagination) {\n            const customPagination = renderPagination({\n                selectedDot: this.state.paginationIndex,\n                onPrev: this.onPrevious,\n                onNext: this.onNext,\n                childrenCount: this.childrenCount,\n                onDotClick: this.onDotClick\n            })\n\n            return React.cloneElement(customPagination, {\n                ref: this.paginationRef,\n                style: {\n                    ...customPagination.props.style,\n                    marginTop: 20\n                }\n            })\n        }\n\n        return (\n            <Pagination\n                style={customStyles}\n                ref={this.paginationRef}\n            >\n                <LeftArrow onClick={this.onPrevious}/>\n                {this.renderDots()}\n                <RightArrow onClick={this.onNext}/>\n            </Pagination>\n        )\n    }\n\n    render() {\n        const { draggable, style, paginationConfig } = this.props\n        const cursor = draggable ? 'pointer' : 'unset'\n\n        return (\n            <div style={style}>\n                <SecondWrapper\n                    ref={this.overflowContainerRef}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={draggable ? this.onOverflowContentMouseDown : C.noop}\n                    style={{ cursor }}\n                >\n                    {this.renderChildren()}\n                </SecondWrapper>\n                {this.renderScrollbar()}\n                {paginationConfig?.withScroll && this.renderPagination()}\n            </div>\n        )\n    }\n}\n\nexport const SecondWrapper = styled.div`\n    display: flex;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    margin-bottom: -20px;\n    -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n    flex: 0 0 auto;\n    box-sizing: border-box;\n`\n\nexport const Track = styled.div`\n    position: absolute;\n    cursor: pointer;\n    left: 0;\n    width: 100%;\n    background-color: ${colors.gray.mediumGray};\n    bottom: 0;\n    height: 10px;\n    display: flex;\n    align-items: center;\n`\n\nexport const RectangleThumb = styled.div`\n    position: relative;\n    left: 0;\n    background-color: ${colors.primary};\n    cursor: pointer;\n    width: 100px;\n    height: 10px;\n`\n\nexport const Pagination = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n`\n\nexport const LeftArrow = styled.div`\n    border: solid ${colors.black};\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 6px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    cursor: pointer;\n`\n\nexport const RightArrow = styled.div`\n    border: solid ${colors.black};\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 6px;\n    transform: rotate(-45deg);\n    -webkit-transform: rotate(-45deg);\n    cursor: pointer;\n`\n\nexport const Dot = styled.div`\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    margin: 0 3px;\n    cursor: pointer;\n`\n\n","import React from 'react'\nimport styled from 'styled-components'\nimport { ReactSmartScrollerProps } from 'lib/types'\nimport { colors } from 'lib/styles'\nimport { C, isMobile } from 'lib/utils'\nimport { constants } from 'lib/common'\n\ntype ReactSmartScrollerPaginationState = {\n    numberOfViews: number,\n    paginationIndex: number,\n    scrollValue: number,\n    children: React.ReactNode,\n    deltaX: number,\n    deltaY: number,\n    scrollLeft: number,\n    dragScroll: number,\n    lockedMove: boolean,\n    horizontal: boolean\n}\n\nexport class ReactSmartScrollerPagination extends React.Component<ReactSmartScrollerProps, ReactSmartScrollerPaginationState> {\n    state: ReactSmartScrollerPaginationState = {\n        paginationIndex: 0,\n        numberOfViews: 0,\n        scrollValue: 0,\n        children: this.props.children,\n        deltaX: 0,\n        scrollLeft: 0,\n        dragScroll: 0,\n        deltaY: 0,\n        horizontal: false,\n        lockedMove: false\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.onPrevious = this.onPrevious.bind(this)\n        this.onDotClick = this.onDotClick.bind(this)\n        this.onTouchMove = this.onTouchMove.bind(this)\n        this.onTouchStart = this.onTouchStart.bind(this)\n        this.updatePosition = this.updatePosition.bind(this)\n        this.setStartPosition = this.setStartPosition.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        this.setState({\n            numberOfViews: this.numberOfViews\n        })\n\n        window.addEventListener('resize', this.updatePosition)\n        window.addEventListener('load', this.setStartPosition)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updatePosition)\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.setStartPosition)\n        this.overflowContainerRef.current?.removeEventListener('touchmove', this.onTouchMove)\n        this.overflowContainerRef.current?.removeEventListener('touchend', this.deleteOverflowMouseMoveEvent)\n    }\n\n    get childrenCount() {\n        return React.Children.count(this.props.children)\n    }\n\n    get numberOfViews() {\n        const numCols = this.props.numCols || 1\n\n        return Math.ceil(this.childrenCount / numCols)\n    }\n\n    get childrenWidth() {\n        return React.Children.map(this.props.children, (_, index) => {\n            return {\n                value: this.overflowContainerRef.current?.children.item(index)?.clientWidth || 0,\n                index: index\n            }\n        })\n    }\n\n    setStartPosition() {\n        const { startAt, children } = this.props\n        const overflowRef = this.overflowContainerRef.current\n        const numCols = this.props.numCols || 1\n        const position = startAt\n            ? startAt.startIndex\n            : 0\n\n        if (overflowRef) {\n            const page = Math.ceil(position / numCols)\n            const childrenCount = React.Children.count(children)\n            const maxChildrenPage = Math.ceil(childrenCount / numCols) - 1\n            const checkedPage = page < 0\n                ? 0\n                : page > maxChildrenPage\n                    ? maxChildrenPage\n                    : page\n            const scrollValue = -checkedPage * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${scrollValue}px)`\n\n            this.setState({\n                paginationIndex: checkedPage,\n                scrollValue\n            })\n        }\n    }\n\n    updatePosition() {\n        const { children } = this.props\n        const overflowRef = this.overflowContainerRef.current\n        const numCols = this.props.numCols || 1\n        const position = this.state.paginationIndex\n\n        if (overflowRef) {\n            const page = Math.ceil(position / numCols)\n            const childrenCount = React.Children.count(children)\n            const maxChildrenPage = Math.ceil(childrenCount / numCols) - 1\n            const checkedPage = page < 0\n                ? 0\n                : page > maxChildrenPage\n                    ? maxChildrenPage\n                    : page\n            const scrollValue = -checkedPage * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${scrollValue}px)`\n\n            this.setState({\n                paginationIndex: checkedPage,\n                scrollValue\n            })\n        }\n    }\n\n    onNext() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex, scrollValue } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig?.withScroll && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const newScrollValue = overflowRef.children.item(paginationIndex)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft + newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && paginationIndex === this.numberOfViews - 1 && paginationConfig && paginationConfig.infinite) {\n            overflowRef.style.transform = `translate(0px)`\n\n            return this.setState({\n                paginationIndex: 0,\n                scrollValue: 0\n            })\n        }\n\n        if (overflowRef && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const isLast = overflowRef.clientWidth + Math.abs(this.state.scrollValue) >= overflowRef.scrollWidth\n\n            if (isLast) {\n                return\n            }\n\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? scrollValue - (overflowRef.children.item(paginationIndex)?.clientWidth || 0)\n                : scrollValue - overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onPrevious() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex, scrollValue } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig?.withScroll && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = overflowRef.children.item(index)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft - newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && paginationIndex === 0 && paginationConfig && paginationConfig.infinite) {\n            const index = this.numberOfViews - 1\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? index + (overflowRef.children.item(index)?.clientWidth || 0)\n                : index * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(-${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: -newScrollValue\n            })\n        }\n\n        if (overflowRef && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? scrollValue + (overflowRef.children.item(index)?.clientWidth || 0)\n                : scrollValue + overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onDotClick(index: number) {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && (paginationConfig?.withScroll || paginationConfig?.renderNextToEachOther)) {\n            const newScrollValue = (overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0\n\n            overflowRef.scroll({\n                left: newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && index !== paginationIndex) {\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? -((overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0)\n                : -(index * overflowRef.clientWidth)\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationConfig }  = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.draggable) {\n            overflowRef.style.transition = 'unset'\n            overflowRef.style.transform = `translate(${this.state.scrollValue}px)`\n\n            this.setState({\n                deltaX: event.clientX,\n                scrollLeft: this.state.scrollValue,\n                dragScroll: this.state.scrollValue\n            })\n\n            window.addEventListener('mousemove', this.onOverflowContentDrag)\n            window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        }\n    }\n\n    onOverflowContentDrag(event: MouseEvent) {\n        const { deltaX, scrollLeft } = this.state\n        const overflowRef = this.overflowContainerRef.current\n        const dragScroll = scrollLeft + (event.clientX - deltaX)\n\n        if (overflowRef && event.clientX !== 0) {\n            overflowRef.style.transform = `translate(${dragScroll}px)`\n\n            this.setState({\n                dragScroll\n            })\n        }\n    }\n\n    onTouchStart(event: React.TouchEvent) {\n        const { scrollValue } = this.state\n        const touch = event.touches.item(0) as Touch\n        const overflowRef = this.overflowContainerRef.current\n\n        this.setState({\n            deltaX: touch.clientX,\n            scrollLeft: scrollValue,\n            dragScroll: scrollValue,\n            deltaY: touch.clientY,\n            horizontal: false,\n            lockedMove: false\n        })\n\n        if (overflowRef) {\n            overflowRef.style.transition = 'unset'\n        }\n\n        this.overflowContainerRef.current?.addEventListener('touchmove', this.onTouchMove, { passive: false })\n        this.overflowContainerRef.current?.addEventListener('touchend', this.deleteOverflowMouseMoveEvent)\n    }\n\n    onTouchMove(event: TouchEvent) {\n        const { deltaX, scrollLeft, deltaY, horizontal, lockedMove } = this.state\n        const touch = event.touches.item(0) as Touch\n        const overflowRef = this.overflowContainerRef.current\n        const dragScroll = scrollLeft + (touch.clientX - deltaX)\n        const { paginationConfig } = this.props\n        const minOffset = paginationConfig?.minOffsetToChangeSlide || 50\n\n        if (!horizontal && lockedMove) {\n            return null\n        }\n\n        if (Math.abs(touch.clientY - deltaY) > minOffset && !lockedMove) {\n            this.setState({\n                horizontal: false,\n                lockedMove: true\n            })\n        }\n\n        if (Math.abs(touch.clientX - deltaX) > minOffset && !lockedMove) {\n            this.setState({\n                horizontal: true,\n                lockedMove: true\n            })\n        }\n\n        if (Math.abs(touch.clientX - deltaX) > minOffset) {\n            event.preventDefault()\n        }\n\n        if (overflowRef && touch.clientX !== 0) {\n            overflowRef.style.transform = `translate(${dragScroll}px)`\n\n            this.setState({\n                dragScroll\n            })\n        }\n\n        return\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        const overflowRef = this.overflowContainerRef.current\n        const { dragScroll, paginationIndex, scrollLeft } = this.state\n        const { paginationConfig } = this.props\n        const minOffset = paginationConfig?.minOffsetToChangeSlide || 150\n        const transition = paginationConfig?.transitionTime || 1\n\n        if (overflowRef && (-scrollLeft + dragScroll < -minOffset)) {\n            const numCols = this.props.numCols || 1\n            const isLastSlide = paginationIndex === Math.ceil(this.childrenCount / numCols) - 1\n            const newValue = isLastSlide\n                ? paginationIndex * overflowRef.clientWidth\n                : (paginationIndex + 1) * overflowRef.clientWidth\n\n            overflowRef.style.transition = `all ${transition}s`\n            overflowRef.style.transform = `translate(-${newValue}px)`\n\n            this.setState({\n                paginationIndex: isLastSlide ? paginationIndex : paginationIndex + 1,\n                scrollValue: -newValue\n            })\n        }\n\n        if (overflowRef && (-scrollLeft + dragScroll > minOffset)) {\n            const isFirstSlide = paginationIndex === 0\n            const newValue = isFirstSlide\n                ? 0\n                : (paginationIndex - 1) * overflowRef.clientWidth\n\n            overflowRef.style.transition = `all ${transition}s`\n            overflowRef.style.transform = `translate(-${newValue}px)`\n\n            this.setState({\n                paginationIndex: isFirstSlide ? paginationIndex : paginationIndex - 1,\n                scrollValue: -newValue\n            })\n        }\n\n        const shouldReturn = C.all(\n            overflowRef,\n            -scrollLeft + dragScroll > -minOffset,\n            -scrollLeft + dragScroll < minOffset\n        )\n\n        if (shouldReturn) {\n            overflowRef!.style.transition = `all ${transition}s`\n            overflowRef!.style.transform = `translate(-${paginationIndex * overflowRef!.clientWidth}px)`\n        }\n\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingRight = index !== React.Children.count(children) - 1\n                ? `paddingRight: ${padding}px`\n                : undefined\n            const paddingLeft = index !== 0\n                ? `paddingLeft: ${padding}px`\n                : undefined\n            const flexBasis = cols ? `calc(100% / ${cols})` : 'unset'\n            const width = (this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther) ? 'unset' : '100%'\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `0 ${padding}px`,\n                        flexBasis,\n                        paddingRight,\n                        paddingLeft,\n                        width\n                    }}\n                >\n                    {child}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    renderDots() {\n        const { paginationConfig } = this.props\n\n        return Array.from(Array(this.numberOfViews)).map((_, index) => {\n            const backgroundColor = this.state.paginationIndex === index\n                ? paginationConfig?.activeDotColor || colors.primary\n                : paginationConfig?.unactiveDotsColor || colors.gray.mediumGray\n\n            return (\n                <Dot\n                    key={index}\n                    style={{ backgroundColor }}\n                    onClick={() => this.onDotClick(index)}\n                />\n            )\n        })\n    }\n\n    renderPagination() {\n        const { renderPagination, paginationConfig } = this.props\n        const customStyles = paginationConfig?.withScroll ? {\n            marginTop: 20\n        } as React.CSSProperties : {\n            marginTop: 'unset'\n        } as React.CSSProperties\n\n        if (renderPagination) {\n            return renderPagination({\n                selectedDot: this.state.paginationIndex,\n                onPrev: this.onPrevious,\n                onNext: this.onNext,\n                childrenCount: this.childrenCount,\n                onDotClick: this.onDotClick\n            })\n        }\n\n        return (\n            <Pagination style={customStyles}>\n                <LeftArrow onClick={this.onPrevious}/>\n                {this.renderDots()}\n                <RightArrow onClick={this.onNext}/>\n            </Pagination>\n        )\n    }\n\n    onOverflowContentScroll() {\n        const overflowRef = this.overflowContainerRef.current\n        const leftScroll = overflowRef?.scrollLeft || 0\n        const properChildrenOffsets = this.childrenWidth?.reduce((acc, element, index) => {\n            return acc.concat({\n                index: index + 1,\n                value: element.value + (acc[index - 1]?.value || 0)\n            })\n        }, [] as Array<{ value: number, index: number }>)\n        const searchedElement = properChildrenOffsets?.reverse()?.find(item => leftScroll >= item.value)\n\n        this.setState({\n            paginationIndex: searchedElement\n                ? searchedElement.index\n                : 0\n        })\n    }\n\n    render() {\n        const { paginationConfig, style } = this.props\n        const transition = paginationConfig?.transitionTime || 1\n        const customStyles = paginationConfig?.withScroll ? {\n            overflowX: 'auto',\n            marginBottom: -20\n        } as React.CSSProperties : {\n            overflowX: 'unset',\n            marginBottom: 'unset'\n        } as React.CSSProperties\n\n        return (\n            <ContainerWrapper style={style}>\n                <Container\n                    ref={this.overflowContainerRef}\n                    style={{\n                        transition: `all ${transition}s`,\n                        flex: 1,\n                        ...customStyles\n                    }}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={isMobile() ? C.noop : this.onOverflowContentMouseDown}\n                    onTouchStart={isMobile() ? this.onTouchStart : C.noop}\n                >\n                    {this.renderChildren()}\n                </Container>\n                {this.renderPagination()}\n            </ContainerWrapper>\n        )\n    }\n}\n\nexport const ContainerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nexport const Container = styled.div`\n  display: flex;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n  flex: 0 0 auto;\n  box-sizing: border-box;\n`\n\nexport const Pagination = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n`\n\nexport const LeftArrow = styled.div`\n  border: solid ${colors.black};\n  border-width: 0 2px 2px 0;\n  display: inline-block;\n  padding: 6px;\n  transform: rotate(135deg);\n  -webkit-transform: rotate(135deg);\n  cursor: pointer;\n`\n\nexport const RightArrow = styled.div`\n  border: solid ${colors.black};\n  border-width: 0 2px 2px 0;\n  display: inline-block;\n  padding: 6px;\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  cursor: pointer;\n`\n\nexport const Dot = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin: 0 3px;\n  cursor: pointer;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { ReactSmartScrollerProps } from 'lib/types'\nimport { isServer } from 'lib/utils'\nimport { ReactSmartScrollerVertical } from './ReactSmartScrollerVertical'\nimport { ReactSmartScrollerHorizontal } from './ReactSmartScrollerHorizontal'\nimport { ReactSmartScrollerPagination } from './ReactSmartScrollerPagination'\n\nexport class ReactSmartScroller extends React.Component<ReactSmartScrollerProps> {\n    renderMain() {\n        if (this.props.pagination) {\n            return (\n                <ReactSmartScrollerPagination {...this.props}/>\n            )\n        }\n\n        return this.props.vertical ? (\n            <ReactSmartScrollerVertical {...this.props}/>\n        ) : (\n            <ReactSmartScrollerHorizontal {...this.props}/>\n        )\n    }\n\n    render() {\n        return !isServer() ? (\n            <Wrapper>\n                {this.renderMain()}\n            </Wrapper>\n        ) : null\n    }\n}\n\nexport const Wrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n`\n"],"names":["reactSmartScrollerId","PaddingCount","all","params","every","Boolean","noop","extractNumberFromStyle","value","Number","toString","replace","undefined","getPaddingValues","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","zeroPadding","top","right","bottom","left","splittedPadding","split","paddingValuesCount","length","paddingValues","map","One","Two","paddingVertical","paddingHorizontal","Three","Four","isServer","window","checkAgent","agentName","navigator","userAgent","includes","isIpad","isIOS","isAndroid","isMacOs","isMobile","colors","primary","secondary","typography","red","white","black","peterRiver","sunflower","gray","lightGray","mediumGray","darkGray","ReactSmartScrollerVertical","props","scrollContainerHeight","deltaYOrigin","deltaY","thumbWidth","trackWidth","scrollHeight","scrollTop","trackPadding","ratio","React","createRef","measureContainers","bind","onMouseDown","onMouseDrag","onOverflowContentScroll","deleteMouseMoveEvent","onScrollbarClick","onOverflowContentMouseDown","onOverflowContentDrag","deleteOverflowMouseMoveEvent","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","setStartPosition","startAt","overflowRef","overflowContainerRef","current","startElement","offset","center","clientHeight","offsetTop","scrollContainerReducedHeight","state","event","overflownRef","thumbRef","trackRef","areRefsCurrent","C","maximumOffset","offsetHeight","setState","offsetWidth","clientWidth","type","scrollOffset","scroll","style","preventDefault","clientY","shouldReturn","getBoundingClientRect","behavior","zero","isBetweenClientHeight","criticalDimension","criticalScrollerDimensions","renderThumb","percentageWidth","toFixed","height","thumb","cloneElement","ref","position","cursor","RectangleThumb","renderScrollbar","display","shouldRenderScrollbar","Track","onClick","color","rightOffset","trackProps","EmptyAbsolute","renderChildren","cols","numCols","spacing","children","Children","child","index","count","extendedChild","ChildrenWrapper","id","constants","marginRight","contentMargin","render","draggable","Content","onScroll","windowsScrollWidth","marginWidth","margin","document","getElementById","startIndex","Component","styled","div","ReactSmartScrollerHorizontal","scrollContainerWidth","deltaXOrigin","deltaX","thumbHeight","trackHeight","scrollWidth","scrollLeft","numberOfViews","paginationIndex","onNext","onPrevious","onDotClick","scrollContainerReducedWidth","offsetLeft","clientX","isBetweenClientWidth","leftScroll","properChildrenOffsets","childrenWidth","reduce","acc","element","concat","searchedElement","reverse","find","item","flexBasis","marginBottom","width","pagination","customStyles","paginationConfig","withScroll","paginationRef","bottomOffset","newScrollValue","renderDots","Array","from","_","backgroundColor","activeDotColor","unactiveDotsColor","Dot","key","renderPagination","marginTop","customPagination","selectedDot","onPrev","childrenCount","Pagination","LeftArrow","RightArrow","SecondWrapper","windowsScrollHeight","marginHeight","Math","ceil","vertical","ReactSmartScrollerPagination","scrollValue","dragScroll","horizontal","lockedMove","onTouchMove","onTouchStart","updatePosition","page","maxChildrenPage","checkedPage","transform","infinite","isLast","abs","renderNextToEachOther","transition","touch","touches","passive","minOffset","minOffsetToChangeSlide","transitionTime","isLastSlide","newValue","isFirstSlide","overflowX","ContainerWrapper","Container","flex","ReactSmartScroller","renderMain","Wrapper"],"mappings":"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"}