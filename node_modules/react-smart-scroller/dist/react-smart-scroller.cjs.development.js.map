{"version":3,"file":"react-smart-scroller.cjs.development.js","sources":["../src/lib/common/constants.ts","../src/lib/common/paddingCount.ts","../src/lib/utils/helpers.ts","../src/lib/utils/server.ts","../src/lib/utils/deviceDetect.ts","../src/lib/styles/colors.ts","../src/components/ReactSmartScrollerVertical.tsx","../src/components/ReactSmartScrollerHorizontal.tsx","../src/components/ReactSmartScrollerPagination.tsx","../src/components/ReactSmartScroller.tsx"],"sourcesContent":["export const reactSmartScrollerId = 'react-smart-scroller'\n","export enum PaddingCount {\n    One = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4\n}\n","import { KeyValuePair } from '../types'\nimport { PaddingCount } from '../common'\n\n// tslint:disable-next-line:no-any\nconst all = (...params: Array<any>) => params.every(Boolean)\nconst clearObject = (value: KeyValuePair) => Object\n    .keys(value)\n    .filter(key => Boolean(value[key]))\n    .reduce((acc, curr) => ({\n        ...acc,\n        [curr]: value[curr]\n    }), {})\nconst noop = () => {}\n\nexport {\n    clearObject,\n    all,\n    noop\n}\n\nexport const extractNumberFromStyle = (value?: string | number | null | undefined) => value\n    ? Number(value.toString().replace('px', ''))\n    : undefined\n\nexport const getPaddingValues = (\n    padding?: string | number,\n    paddingLeft?: string | number,\n    paddingRight?: string | number,\n    paddingTop?: string | number,\n    paddingBottom?: string | number\n) => {\n    const zeroPadding = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n\n    if (!padding && !paddingLeft && !paddingRight && !paddingTop && !paddingBottom) {\n        return zeroPadding\n    }\n\n    if (!padding) {\n        return {\n            ...zeroPadding,\n            right: extractNumberFromStyle(paddingRight),\n            left: extractNumberFromStyle(paddingLeft),\n            top: extractNumberFromStyle(paddingTop),\n            bottom: extractNumberFromStyle(paddingBottom)\n        }\n    }\n\n    const splittedPadding = padding.toString().split(' ')\n    const paddingValuesCount = splittedPadding.length\n    const paddingValues = splittedPadding.map(extractNumberFromStyle)\n\n    switch (paddingValuesCount) {\n        case PaddingCount.One: {\n            const [ padding ] = paddingValues\n\n            return {\n                top: padding,\n                right: padding,\n                bottom: padding,\n                left: padding\n            }\n        }\n        case PaddingCount.Two: {\n            const [ paddingVertical, paddingHorizontal ] = paddingValues\n\n            return {\n                top: paddingVertical,\n                right: paddingHorizontal,\n                bottom: paddingVertical,\n                left: paddingHorizontal\n            }\n        }\n        case PaddingCount.Three: {\n            const [ paddingTop, paddingHorizontal, paddingBottom ] = paddingValues\n\n            return {\n                top: paddingTop,\n                right: paddingHorizontal,\n                bottom: paddingBottom,\n                left: paddingHorizontal\n            }\n        }\n        case PaddingCount.Four:\n        default: {\n            const [ top, right, bottom, left ] = paddingValues\n\n            return {\n                top,\n                right,\n                bottom,\n                left\n            }\n        }\n    }\n}\n","export const isServer = () => typeof window === 'undefined'\n","import { isServer } from './server'\n\nexport const checkAgent = (agentName: string) => !isServer()\n    ? navigator.userAgent.includes(agentName)\n    : false\n\nexport const isIpad = () => checkAgent('iPad')\nexport const isIOS = () => checkAgent('iPhone') || isIpad()\nexport const isAndroid = () => checkAgent('Android')\nexport const isMsEdge = () => checkAgent('Edge')\nexport const isMacOs = () => checkAgent('Mac')\nexport const isMobile = () => isAndroid() || isIOS()\n","export const colors = {\n    primary: '#2ecc71',\n    secondary: '#27ae60',\n    typography: '#2c3e50',\n    red: '#e74c3c',\n    white: '#ffffff',\n    black: '#000000',\n    peterRiver: '#3498db',\n    sunflower: '#f1c40f',\n    gray: {\n        lightGray: '#ecf0f1',\n        mediumGray: '#bdc3c7',\n        darkGray: '#9ca2a7',\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Padding, ReactSmartScrollerProps } from 'lib/types'\nimport { C, isMacOs, isMobile } from 'lib/utils'\nimport { colors } from 'lib/styles'\nimport { constants } from 'lib/common'\n\ntype ReactSmartSliderVerticalState = {\n    scrollContainerHeight: number,\n    deltaYOrigin: number,\n    deltaY: number,\n    thumbWidth: number,\n    trackWidth: number,\n    scrollHeight: number,\n    scrollTop: number,\n    padding: Padding,\n    ratio: number\n}\n\nexport class ReactSmartScrollerVertical extends React.Component<ReactSmartScrollerProps, ReactSmartSliderVerticalState> {\n    state: ReactSmartSliderVerticalState = {\n        scrollContainerHeight: 0,\n        deltaYOrigin: 0,\n        deltaY: 0,\n        thumbWidth: 0,\n        trackWidth: 0,\n        scrollHeight: 0,\n        scrollTop: 0,\n        padding: this.trackPadding,\n        ratio: 1\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private thumbRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private trackRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.measureContainers = this.measureContainers.bind(this)\n        this.onMouseDown = this.onMouseDown.bind(this)\n        this.onMouseDrag = this.onMouseDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.deleteMouseMoveEvent = this.deleteMouseMoveEvent.bind(this)\n        this.onScrollbarClick = this.onScrollbarClick.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.addEventListener('transitionend', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.addEventListener('load', this.measureContainers)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.removeEventListener('transitionend', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.measureContainers)\n    }\n\n    get shouldRenderScrollbar() {\n        const overflownRef = this.overflowContainerRef.current\n        const cols = this.props.numCols as number\n\n        if (!cols && overflownRef) {\n            return overflownRef.clientHeight < overflownRef.scrollHeight\n        }\n\n        return !(overflownRef && overflownRef.children.length <= cols)\n    }\n\n    get trackPadding() {\n        const { trackProps } = this.props\n\n        return trackProps\n            ? C.getPaddingValues(\n                trackProps.padding,\n                trackProps.paddingLeft,\n                trackProps.paddingRight,\n                trackProps.paddingTop,\n                trackProps.paddingBottom\n            ) as Padding : {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0\n            }\n    }\n\n    get contentMargin() {\n        const { thumbWidth, trackWidth } = this.state\n        const windowsScrollWidth = 20\n        const marginWidth = trackWidth > thumbWidth ? trackWidth : thumbWidth\n        const margin = isMacOs() ? marginWidth + windowsScrollWidth : marginWidth\n\n        return !isMobile() && this.shouldRenderScrollbar\n            ? `${margin + 10}px`\n            : '20px'\n    }\n\n    get rightOffset() {\n        return this.state.thumbWidth > this.state.trackWidth\n            ? (this.state.thumbWidth - this.state.trackWidth) / 2\n            : 0\n    }\n\n    get startElement() {\n        if (this.props.startAt) {\n            return document.getElementById(`${constants.reactSmartScrollerId}-${this.props.startAt.startIndex}`)\n        }\n\n        return undefined\n    }\n\n    setStartPosition() {\n        const { startAt } = this.props\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const startElement = this.startElement\n\n        this.measureContainers()\n\n        if (overflowRef && startElement) {\n            const offset = startAt && startAt.center\n                ? (overflowRef.clientHeight - startElement.clientHeight) / 2\n                : 0\n\n            overflowRef.scrollTop = startElement.offsetTop - offset\n        }\n    }\n\n    scrollContainerReducedHeight(scrollContainerHeight: number) {\n        const { padding } = this.state\n\n        return scrollContainerHeight - (padding.top + padding.bottom)\n    }\n\n    measureContainers(event?: Event) {\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const trackRef = this.trackRef.current as HTMLDivElement\n        const areRefsCurrent = C.all(\n            overflownRef,\n            thumbRef,\n            trackRef\n        )\n\n        if (areRefsCurrent) {\n            const scrollContainerHeight = this.scrollContainerReducedHeight(overflownRef.clientHeight)\n            const maximumOffset = scrollContainerHeight - thumbRef.offsetHeight\n            const ratio = maximumOffset / (overflownRef.scrollHeight - overflownRef.clientHeight)\n\n            this.setState({\n                scrollContainerHeight,\n                thumbWidth: thumbRef.offsetWidth,\n                trackWidth: trackRef.clientWidth,\n                scrollHeight: overflownRef.scrollHeight,\n                ratio\n            }, () => {\n                if (event && event.type === 'load') {\n                    this.setStartPosition()\n                }\n            })\n        }\n\n        if (areRefsCurrent && thumbRef.offsetTop + thumbRef.offsetHeight > overflownRef.clientHeight) {\n            const scrollOffset = overflownRef.clientHeight - thumbRef.offsetHeight\n\n            overflownRef.scroll(0, overflownRef.scrollHeight)\n            thumbRef.style.top = `${scrollOffset}px`\n        }\n    }\n\n    onMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n\n        if (thumbRef && overflownRef) {\n            this.setState({\n                deltaYOrigin: thumbRef.offsetTop,\n                deltaY: event.clientY + this.state.padding.top\n            })\n        }\n\n        window.addEventListener('mousemove', this.onMouseDrag)\n    }\n\n    onScrollbarClick({ clientY }: React.MouseEvent) {\n        const { padding } = this.state\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const shouldReturn = C.all(\n            thumbRef,\n            overflowRef,\n            clientY >= ((C.extractNumberFromStyle(thumbRef.style.top) || 0) + overflowRef.getBoundingClientRect().top + padding.top),\n            clientY <= ((C.extractNumberFromStyle(thumbRef.style.top) || 0) + overflowRef.getBoundingClientRect().top + thumbRef.offsetHeight + padding.top)\n        )\n\n        // leave this function if thumb was clicked\n        if (shouldReturn) {\n            return null\n        }\n\n        const maximumOffset = this.state.scrollContainerHeight - thumbRef.offsetHeight\n        // this is different ratio than in state\n        const ratio = (overflowRef.scrollHeight - overflowRef.clientHeight) / maximumOffset\n        const deltaY = overflowRef.getBoundingClientRect().top + (thumbRef.offsetHeight / 2) + padding.top\n\n        return overflowRef.scroll({\n            top: ratio * (clientY - deltaY),\n            left: 0,\n            behavior: 'smooth'\n        })\n    }\n\n    deleteMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onMouseDrag)\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onMouseDrag(event: DragEvent | MouseEvent) {\n        const zero = 0\n        const { deltaY, deltaYOrigin, scrollContainerHeight, padding } = this.state\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const maximumOffset = scrollContainerHeight - thumbRef.offsetHeight\n        const offset = event.clientY - deltaY + deltaYOrigin + padding.top\n        const isBetweenClientHeight = offset >= zero && offset <= maximumOffset\n        const areRefsCurrent = C.all(\n            Boolean(this.overflowContainerRef.current),\n            Boolean(this.thumbRef.current)\n        )\n\n        if (areRefsCurrent && !isBetweenClientHeight) {\n            const criticalDimension = offset < zero ? zero: maximumOffset\n            const criticalScrollerDimensions = offset > zero\n                ? overflowRef.scrollHeight - overflowRef.offsetHeight\n                : zero\n\n            thumbRef.style.top = `${criticalDimension}px`\n            overflowRef.scroll(zero, criticalScrollerDimensions)\n        }\n\n        if (areRefsCurrent && isBetweenClientHeight) {\n            // this is different ratio than in state\n            const ratio = (overflowRef.scrollHeight - overflowRef.offsetHeight) / maximumOffset\n\n            overflowRef.scroll(zero, ratio * offset)\n            thumbRef.style.top = `${offset}px`\n        }\n    }\n\n    onOverflowContentScroll() {\n        const { ratio } = this.state\n        const thumbRef = this.thumbRef.current  as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && thumbRef) {\n            thumbRef.style.top = `${overflowRef.scrollTop * ratio}px`\n        }\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef) {\n            this.setState({\n                deltaY: event.clientY,\n                scrollTop: overflowRef.scrollTop\n            })\n        }\n\n        window.addEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onOverflowContentDrag(event: MouseEvent) {\n        const { deltaY, scrollTop } = this.state\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && event.clientY !== 0) {\n            overflowRef.scroll(0, scrollTop - (event.clientY - deltaY))\n        }\n    }\n\n    renderThumb() {\n        const { scrollContainerHeight, scrollHeight } = this.state\n        const percentageWidth = Number(((scrollContainerHeight * 100) / scrollHeight).toFixed(0))\n        const height = `${(percentageWidth * scrollContainerHeight) / 100}px`\n\n        if (this.props.thumb) {\n            return React.cloneElement(\n                this.props.thumb,\n                {\n                    ref: this.thumbRef,\n                    onMouseDown: this.onMouseDown,\n                    style: {\n                        top: 0,\n                        position: 'relative',\n                        cursor: 'pointer',\n                        ...this.props.thumb.props.style\n                    }\n                }\n            )\n        }\n\n        return (\n            <RectangleThumb\n                ref={this.thumbRef}\n                onMouseDown={this.onMouseDown}\n                style={{ height }}\n            />\n        )\n    }\n\n    renderScrollbar() {\n        const display = !isMobile() && this.shouldRenderScrollbar\n\n        return (\n            <Track\n                ref={this.trackRef}\n                onClick={this.onScrollbarClick}\n                style={{\n                    color: colors.gray.mediumGray,\n                    right: this.rightOffset,\n                    display: display ? 'flex' : 'none',\n                    ...this.props.trackProps\n                }}\n            >\n                <EmptyAbsolute>\n                    {this.renderThumb()}\n                </EmptyAbsolute>\n            </Track>\n        )\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingBottom = index !== React.Children.count(children) - 1\n                ? `paddingBottom: ${padding}px`\n                : undefined\n            const paddingTop = index !== 0\n                ? `paddingTop: ${padding}px`\n                : undefined\n            const height = cols ? `calc(100% / ${cols})` : 'auto'\n            const extendedChild = React.cloneElement(\n                children[index],\n                {\n                    style: {\n                        display: 'flex',\n                        ...children[index].props.style\n                    }\n                }\n            )\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `${padding}px 0`,\n                        height,\n                        paddingTop,\n                        paddingBottom,\n                        marginRight: this.contentMargin\n                    }}\n                >\n                    {extendedChild}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    render() {\n        const { draggable, style } = this.props\n        const cursor = draggable ? 'pointer' : 'unset'\n\n        return (\n            <div style={style}>\n                <Content\n                    style={{ cursor }}\n                    ref={this.overflowContainerRef}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={draggable ? this.onOverflowContentMouseDown : C.noop}\n                >\n                    {this.renderChildren()}\n                </Content>\n                {this.renderScrollbar()}\n            </div>\n        )\n    }\n}\n\nexport const Content = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    margin-right: -20px;\n    -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n    box-sizing: border-box;\n`\n\nexport const Track = styled.div`\n    position: absolute;\n    cursor: pointer;\n    right: 0;\n    height: 100%;\n    background-color: ${colors.gray.mediumGray};\n    top: 0;\n    width: 10px;\n    display: flex;\n    justify-content: center;\n`\n\nexport const RectangleThumb = styled.div`\n    position: relative;\n    background-color: ${colors.primary};\n    cursor: pointer;\n    width: 10px;\n    height: 100%;\n`\n\nexport const EmptyAbsolute = styled.div`\n    position: absolute;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { colors } from 'lib/styles'\nimport { Padding, ReactSmartScrollerProps } from 'lib/types'\nimport { C, isMobile, isMacOs } from 'lib/utils'\nimport { constants } from 'lib/common'\n\ntype ReactSmartScrollerHorizontalState = {\n    scrollContainerWidth: number,\n    deltaXOrigin: number,\n    deltaX: number,\n    thumbHeight: number,\n    trackHeight: number,\n    scrollWidth: number,\n    scrollLeft: number,\n    padding: Padding,\n    ratio: number,\n    numberOfViews: number,\n    paginationIndex: number\n}\n\nexport class ReactSmartScrollerHorizontal extends React.Component<ReactSmartScrollerProps, ReactSmartScrollerHorizontalState> {\n    static defaultProps: Partial<ReactSmartScrollerProps> = {\n        spacing: 0,\n        vertical: false,\n        draggable: false,\n        pagination: false\n    }\n\n    state: ReactSmartScrollerHorizontalState = {\n        scrollContainerWidth: 0,\n        deltaXOrigin: 0,\n        deltaX: 0,\n        thumbHeight: 0,\n        trackHeight: 0,\n        scrollWidth: 0,\n        scrollLeft: 0,\n        padding: this.trackPadding,\n        ratio: 1,\n        numberOfViews: 0,\n        paginationIndex: 0\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private thumbRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private trackRef: React.RefObject<HTMLDivElement> = React.createRef()\n    private paginationRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.onPrevious = this.onPrevious.bind(this)\n        this.onDotClick = this.onDotClick.bind(this)\n        this.measureContainers = this.measureContainers.bind(this)\n        this.onMouseDown = this.onMouseDown.bind(this)\n        this.onMouseDrag = this.onMouseDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.deleteMouseMoveEvent = this.deleteMouseMoveEvent.bind(this)\n        this.onScrollbarClick = this.onScrollbarClick.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        this.setState({\n            numberOfViews: this.numberOfViews\n        })\n\n        window.addEventListener('resize', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.addEventListener('transitionend', this.measureContainers)\n        window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.addEventListener('load', this.measureContainers)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteMouseMoveEvent)\n        window.removeEventListener('transitionend', this.measureContainers)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.measureContainers)\n    }\n\n    get shouldRenderScrollbar() {\n        const overflownRef = this.overflowContainerRef.current\n        const cols = this.props.numCols as number\n\n        if (!cols && overflownRef) {\n            return overflownRef.clientWidth < overflownRef.scrollWidth\n        }\n\n        return !(overflownRef && overflownRef.children.length <= cols)\n    }\n\n    get trackPadding() {\n        const { trackProps } = this.props\n\n        return trackProps\n            ? C.getPaddingValues(\n                trackProps.padding,\n                trackProps.paddingLeft,\n                trackProps.paddingRight,\n                trackProps.paddingTop,\n                trackProps.paddingBottom\n            ) as Padding : {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0\n            }\n    }\n\n    get contentMargin() {\n        const { thumbHeight, trackHeight } = this.state\n        const windowsScrollHeight = 20\n        const marginHeight = trackHeight > thumbHeight ? trackHeight : thumbHeight\n        const margin = isMacOs() ? marginHeight + windowsScrollHeight : marginHeight\n\n        return !isMobile() && this.shouldRenderScrollbar\n            ? `${margin + 10}px`\n            : '20px'\n    }\n\n    get bottomOffset() {\n        return this.state.thumbHeight > this.state.trackHeight\n            ? (this.state.thumbHeight - this.state.trackHeight) / 2\n            : 0\n    }\n\n    get startElement() {\n        if (this.props.startAt) {\n            return document.getElementById(`${constants.reactSmartScrollerId}-${this.props.startAt.startIndex}`)\n        }\n\n        return undefined\n    }\n\n    get childrenCount() {\n        return React.Children.count(this.props.children)\n    }\n\n    get numberOfViews() {\n        const numCols = this.props.numCols || 1\n\n        return Math.ceil(this.childrenCount / numCols)\n    }\n\n    get childrenWidth() {\n        return React.Children.map(this.props.children, (_, index) => {\n            return {\n                value: this.overflowContainerRef.current?.children.item(index)?.clientWidth || 0,\n                index: index\n            }\n        })\n    }\n\n    scrollContainerReducedWidth(scrollContainerWidth: number) {\n        const { padding } = this.state\n\n        return scrollContainerWidth - (padding.left + padding.right)\n    }\n\n    setStartPosition() {\n        const { startAt } = this.props\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const startElement = this.startElement\n\n        this.measureContainers()\n\n        if (overflowRef && startElement) {\n            const offset = startAt && startAt.center\n                ? (overflowRef.clientWidth - startElement.clientWidth) / 2\n                : 0\n\n            overflowRef.scrollLeft = startElement.offsetLeft - offset\n        }\n    }\n\n    measureContainers(event?: Event) {\n        const overflownRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const trackRef = this.trackRef.current as HTMLDivElement\n        const areRefsCurrent = C.all(\n            overflownRef,\n            thumbRef,\n            trackRef\n        )\n\n        if (areRefsCurrent) {\n            const scrollContainerWidth = this.scrollContainerReducedWidth(overflownRef.clientWidth)\n            const maximumOffset = scrollContainerWidth - thumbRef.offsetWidth\n            const ratio = maximumOffset / (overflownRef.scrollWidth - overflownRef.clientWidth)\n\n            this.setState({\n                scrollContainerWidth,\n                thumbHeight: thumbRef.offsetHeight,\n                trackHeight: trackRef.clientHeight,\n                scrollWidth: overflownRef.scrollWidth,\n                ratio\n            }, () => {\n                if (event && event.type === 'load') {\n                    this.setStartPosition()\n                }\n            })\n        }\n\n        if (areRefsCurrent && thumbRef.offsetLeft + thumbRef.clientWidth > overflownRef.clientWidth) {\n            const scrollOffset = overflownRef.clientWidth - thumbRef.clientWidth\n\n            overflownRef.scroll(overflownRef.scrollWidth, 0)\n            thumbRef.style.left = `${scrollOffset}px`\n        }\n    }\n\n    onMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        if (this.thumbRef.current) {\n            this.setState({\n                deltaXOrigin: this.thumbRef.current.offsetLeft,\n                deltaX: event.clientX + this.state.padding.left\n            })\n        }\n\n        window.addEventListener('mousemove', this.onMouseDrag)\n    }\n\n    onScrollbarClick({ clientX }: React.MouseEvent) {\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const shouldReturn = C.all(\n            thumbRef,\n            overflowRef,\n            clientX >= (thumbRef.offsetLeft + overflowRef.getBoundingClientRect().left),\n            clientX <= (thumbRef.offsetLeft + overflowRef.getBoundingClientRect().left + thumbRef.offsetWidth)\n        )\n\n        // leave this function if thumb was clicked\n        if (shouldReturn) {\n            return null\n        }\n\n        const maximumOffset = this.state.scrollContainerWidth - thumbRef.offsetWidth\n        // this is different ratio than in state\n        const ratio = (overflowRef.scrollWidth - overflowRef.clientWidth) / maximumOffset\n        const deltaX = overflowRef.getBoundingClientRect().left + (thumbRef.offsetWidth / 2) + this.state.padding.left\n\n        return overflowRef.scroll({\n            left: ratio * (clientX - deltaX),\n            top: 0,\n            behavior: 'smooth'\n        })\n    }\n\n    deleteMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onMouseDrag)\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onMouseDrag(event: DragEvent | MouseEvent) {\n        const zero = 0\n        const { deltaX, deltaXOrigin, scrollContainerWidth } = this.state\n        const overflowRef = this.overflowContainerRef.current as HTMLDivElement\n        const thumbRef = this.thumbRef.current as HTMLDivElement\n        const maximumOffset = scrollContainerWidth - thumbRef.offsetWidth\n        const offset = event.clientX - deltaX + deltaXOrigin\n        const isBetweenClientWidth = offset >= zero && offset <= maximumOffset\n        const areRefsCurrent = C.all(\n            Boolean(this.overflowContainerRef.current),\n            Boolean(this.thumbRef.current)\n        )\n\n        if (areRefsCurrent && !isBetweenClientWidth) {\n            const criticalDimension = offset < zero ? zero : maximumOffset\n            const criticalScrollerDimensions = offset > zero\n                ? overflowRef.scrollWidth - overflowRef.clientWidth\n                : zero\n\n            thumbRef.style.left = `${criticalDimension}px`\n            overflowRef.scroll(criticalScrollerDimensions, zero)\n        }\n\n        if (areRefsCurrent && isBetweenClientWidth) {\n            // this is different ratio than in state\n            const ratio = (overflowRef.scrollWidth - overflowRef.clientWidth) / maximumOffset\n\n            overflowRef.scroll(ratio * offset, zero)\n            thumbRef.style.left = `${offset}px`\n        }\n    }\n\n    onOverflowContentScroll() {\n        const { ratio } = this.state\n        const thumbRef = this.thumbRef.current  as HTMLDivElement\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && thumbRef) {\n            thumbRef.style.left = `${overflowRef.scrollLeft * ratio}px`\n        }\n\n        // logic to pagination\n        const leftScroll = overflowRef?.scrollLeft || 0\n        const properChildrenOffsets = this.childrenWidth?.reduce((acc, element, index) => {\n            return acc.concat({\n                index: index + 1,\n                value: element.value + (acc[index - 1]?.value || 0)\n            })\n        }, [] as Array<{ value: number, index: number }>)\n        const searchedElement = properChildrenOffsets?.reverse()?.find(item => leftScroll >= item.value)\n\n        this.setState({\n            paginationIndex: searchedElement\n                ? searchedElement.index\n                : 0\n        })\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef) {\n            this.setState({\n                deltaX: event.clientX,\n                scrollLeft: overflowRef.scrollLeft\n            })\n        }\n\n        window.addEventListener('mousemove', this.onOverflowContentDrag)\n    }\n\n    onOverflowContentDrag(event: MouseEvent | DragEvent) {\n        const { deltaX, scrollLeft } = this.state\n        const overflowRef = this.overflowContainerRef.current\n\n        if (overflowRef && event.clientX !== 0) {\n            overflowRef.scroll(scrollLeft - (event.clientX - deltaX), 0)\n        }\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingRight = index !== React.Children.count(children) - 1\n                ? `paddingRight: ${padding}px`\n                : undefined\n            const paddingLeft = index !== 0\n                ? `paddingLeft: ${padding}px`\n                : undefined\n            const flexBasis = cols ? `calc(100% / ${cols})` : 'unset'\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `0 ${padding}px`,\n                        flexBasis,\n                        paddingRight,\n                        paddingLeft,\n                        marginBottom: this.contentMargin\n                    }}\n                >\n                    {child}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    renderThumb() {\n        const { scrollContainerWidth, scrollWidth } = this.state\n        const percentageWidth = Number(((scrollContainerWidth * 100) / scrollWidth).toFixed(0))\n        const width = `${(percentageWidth * scrollContainerWidth) / 100}px`\n\n        if (this.props.thumb) {\n            return React.cloneElement(\n                this.props.thumb,\n                {\n                    ref: this.thumbRef,\n                    onMouseDown: this.onMouseDown,\n                    style: {\n                        left: 0,\n                        position: 'relative',\n                        cursor: 'pointer',\n                        ...this.props.thumb.props.style\n                    }\n                }\n            )\n        }\n\n        return (\n            <RectangleThumb\n                ref={this.thumbRef}\n                onMouseDown={this.onMouseDown}\n                style={{ width }}\n            />\n        )\n    }\n\n    renderScrollbar() {\n        const display = !isMobile() && this.shouldRenderScrollbar && !this.props.pagination\n        const customStyles = this.props.paginationConfig?.withScroll ? {\n            bottom: this.paginationRef.current?.clientHeight || 40\n        } as React.CSSProperties : {\n            bottom: 0\n        } as React.CSSProperties\n\n        return (\n            <Track\n                ref={this.trackRef}\n                onClick={this.onScrollbarClick}\n                style={{\n                    color: colors.gray.mediumGray,\n                    bottom: this.bottomOffset,\n                    display: display ? 'flex' : 'none',\n                    ...this.props.trackProps,\n                    ...customStyles\n                }}\n            >\n                {this.renderThumb()}\n            </Track>\n        )\n    }\n\n    onNext() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const newScrollValue = overflowRef.children.item(paginationIndex)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft + newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    onPrevious() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = overflowRef.children.item(index)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft - newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    onDotClick(index: number) {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.withScroll) {\n            const newScrollValue = (overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0\n\n            overflowRef.scroll({\n                left: newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n    }\n\n    renderDots() {\n        const { paginationConfig } = this.props\n\n        return Array.from(Array(this.numberOfViews)).map((_, index) => {\n            const backgroundColor = this.state.paginationIndex === index\n                ? paginationConfig?.activeDotColor || colors.primary\n                : paginationConfig?.unactiveDotsColor || colors.gray.mediumGray\n\n            return (\n                <Dot\n                    key={index}\n                    style={{ backgroundColor }}\n                    onClick={() => this.onDotClick(index)}\n                />\n            )\n        })\n    }\n\n    renderPagination() {\n        const { renderPagination, paginationConfig } = this.props\n        const customStyles = paginationConfig?.withScroll ? {\n            marginTop: 20\n        } as React.CSSProperties : {\n            marginTop: 'unset'\n        } as React.CSSProperties\n\n        if (renderPagination) {\n            const customPagination = renderPagination({\n                selectedDot: this.state.paginationIndex,\n                onPrev: this.onPrevious,\n                onNext: this.onNext,\n                childrenCount: this.childrenCount,\n                onDotClick: this.onDotClick\n            })\n\n            return React.cloneElement(customPagination, {\n                ref: this.paginationRef,\n                style: {\n                    ...customPagination.props.style,\n                    marginTop: 20\n                }\n            })\n        }\n\n        return (\n            <Pagination\n                style={customStyles}\n                ref={this.paginationRef}\n            >\n                <LeftArrow onClick={this.onPrevious}/>\n                {this.renderDots()}\n                <RightArrow onClick={this.onNext}/>\n            </Pagination>\n        )\n    }\n\n    render() {\n        const { draggable, style, paginationConfig } = this.props\n        const cursor = draggable ? 'pointer' : 'unset'\n\n        return (\n            <div style={style}>\n                <SecondWrapper\n                    ref={this.overflowContainerRef}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={draggable ? this.onOverflowContentMouseDown : C.noop}\n                    style={{ cursor }}\n                >\n                    {this.renderChildren()}\n                </SecondWrapper>\n                {this.renderScrollbar()}\n                {paginationConfig?.withScroll && this.renderPagination()}\n            </div>\n        )\n    }\n}\n\nexport const SecondWrapper = styled.div`\n    display: flex;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    margin-bottom: -20px;\n    -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n    flex: 0 0 auto;\n    box-sizing: border-box;\n`\n\nexport const Track = styled.div`\n    position: absolute;\n    cursor: pointer;\n    left: 0;\n    width: 100%;\n    background-color: ${colors.gray.mediumGray};\n    bottom: 0;\n    height: 10px;\n    display: flex;\n    align-items: center;\n`\n\nexport const RectangleThumb = styled.div`\n    position: relative;\n    left: 0;\n    background-color: ${colors.primary};\n    cursor: pointer;\n    width: 100px;\n    height: 10px;\n`\n\nexport const Pagination = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n`\n\nexport const LeftArrow = styled.div`\n    border: solid ${colors.black};\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 6px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    cursor: pointer;\n`\n\nexport const RightArrow = styled.div`\n    border: solid ${colors.black};\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 6px;\n    transform: rotate(-45deg);\n    -webkit-transform: rotate(-45deg);\n    cursor: pointer;\n`\n\nexport const Dot = styled.div`\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    margin: 0 3px;\n    cursor: pointer;\n`\n\n","import React from 'react'\nimport styled from 'styled-components'\nimport { ReactSmartScrollerProps } from 'lib/types'\nimport { colors } from 'lib/styles'\nimport { C, isMobile } from 'lib/utils'\nimport { constants } from 'lib/common'\n\ntype ReactSmartScrollerPaginationState = {\n    numberOfViews: number,\n    paginationIndex: number,\n    scrollValue: number,\n    children: React.ReactNode,\n    deltaX: number,\n    deltaY: number,\n    scrollLeft: number,\n    dragScroll: number,\n    lockedMove: boolean,\n    horizontal: boolean\n}\n\nexport class ReactSmartScrollerPagination extends React.Component<ReactSmartScrollerProps, ReactSmartScrollerPaginationState> {\n    state: ReactSmartScrollerPaginationState = {\n        paginationIndex: 0,\n        numberOfViews: 0,\n        scrollValue: 0,\n        children: this.props.children,\n        deltaX: 0,\n        scrollLeft: 0,\n        dragScroll: 0,\n        deltaY: 0,\n        horizontal: false,\n        lockedMove: false\n    }\n\n    private overflowContainerRef: React.RefObject<HTMLDivElement> = React.createRef()\n\n    constructor(props: ReactSmartScrollerProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.onPrevious = this.onPrevious.bind(this)\n        this.onDotClick = this.onDotClick.bind(this)\n        this.onTouchMove = this.onTouchMove.bind(this)\n        this.onTouchStart = this.onTouchStart.bind(this)\n        this.updatePosition = this.updatePosition.bind(this)\n        this.setStartPosition = this.setStartPosition.bind(this)\n        this.onOverflowContentDrag = this.onOverflowContentDrag.bind(this)\n        this.onOverflowContentScroll = this.onOverflowContentScroll.bind(this)\n        this.onOverflowContentMouseDown = this.onOverflowContentMouseDown.bind(this)\n        this.deleteOverflowMouseMoveEvent = this.deleteOverflowMouseMoveEvent.bind(this)\n    }\n\n    componentDidMount() {\n        this.setState({\n            numberOfViews: this.numberOfViews\n        })\n\n        window.addEventListener('resize', this.updatePosition)\n        window.addEventListener('load', this.setStartPosition)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updatePosition)\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        window.removeEventListener('load', this.setStartPosition)\n        this.overflowContainerRef.current?.removeEventListener('touchmove', this.onTouchMove)\n        this.overflowContainerRef.current?.removeEventListener('touchend', this.deleteOverflowMouseMoveEvent)\n    }\n\n    get childrenCount() {\n        return React.Children.count(this.props.children)\n    }\n\n    get numberOfViews() {\n        const numCols = this.props.numCols || 1\n\n        return Math.ceil(this.childrenCount / numCols)\n    }\n\n    get childrenWidth() {\n        return React.Children.map(this.props.children, (_, index) => {\n            return {\n                value: this.overflowContainerRef.current?.children.item(index)?.clientWidth || 0,\n                index: index\n            }\n        })\n    }\n\n    setStartPosition() {\n        const { startAt, children } = this.props\n        const overflowRef = this.overflowContainerRef.current\n        const numCols = this.props.numCols || 1\n        const position = startAt\n            ? startAt.startIndex\n            : 0\n\n        if (overflowRef) {\n            const page = Math.ceil(position / numCols)\n            const childrenCount = React.Children.count(children)\n            const maxChildrenPage = Math.ceil(childrenCount / numCols) - 1\n            const checkedPage = page < 0\n                ? 0\n                : page > maxChildrenPage\n                    ? maxChildrenPage\n                    : page\n            const scrollValue = -checkedPage * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${scrollValue}px)`\n\n            this.setState({\n                paginationIndex: checkedPage,\n                scrollValue\n            })\n        }\n    }\n\n    updatePosition() {\n        const { children } = this.props\n        const overflowRef = this.overflowContainerRef.current\n        const numCols = this.props.numCols || 1\n        const position = this.state.paginationIndex\n\n        if (overflowRef) {\n            const page = Math.ceil(position / numCols)\n            const childrenCount = React.Children.count(children)\n            const maxChildrenPage = Math.ceil(childrenCount / numCols) - 1\n            const checkedPage = page < 0\n                ? 0\n                : page > maxChildrenPage\n                    ? maxChildrenPage\n                    : page\n            const scrollValue = -checkedPage * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${scrollValue}px)`\n\n            this.setState({\n                paginationIndex: checkedPage,\n                scrollValue\n            })\n        }\n    }\n\n    onNext() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex, scrollValue } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig?.withScroll && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const newScrollValue = overflowRef.children.item(paginationIndex)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft + newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && paginationIndex === this.numberOfViews - 1 && paginationConfig && paginationConfig.infinite) {\n            overflowRef.style.transform = `translate(0px)`\n\n            return this.setState({\n                paginationIndex: 0,\n                scrollValue: 0\n            })\n        }\n\n        if (overflowRef && paginationIndex < this.numberOfViews - 1) {\n            const index = paginationIndex + 1\n            const isLast = overflowRef.clientWidth + Math.abs(this.state.scrollValue) >= overflowRef.scrollWidth\n\n            if (isLast) {\n                return\n            }\n\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? scrollValue - (overflowRef.children.item(paginationIndex)?.clientWidth || 0)\n                : scrollValue - overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onPrevious() {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex, scrollValue } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig?.withScroll && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = overflowRef.children.item(index)?.clientWidth || 0\n\n            overflowRef.scroll({\n                left: overflowRef.scrollLeft - newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && paginationIndex === 0 && paginationConfig && paginationConfig.infinite) {\n            const index = this.numberOfViews - 1\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? index + (overflowRef.children.item(index)?.clientWidth || 0)\n                : index * overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(-${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: -newScrollValue\n            })\n        }\n\n        if (overflowRef && paginationIndex > 0) {\n            const index = paginationIndex - 1\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? scrollValue + (overflowRef.children.item(index)?.clientWidth || 0)\n                : scrollValue + overflowRef.offsetWidth\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            return this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onDotClick(index: number) {\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationIndex } = this.state\n        const { paginationConfig } = this.props\n\n        if (overflowRef && paginationConfig && (paginationConfig?.withScroll || paginationConfig?.renderNextToEachOther)) {\n            const newScrollValue = (overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0\n\n            overflowRef.scroll({\n                left: newScrollValue,\n                top: 0,\n                behavior: 'smooth'\n            })\n\n            return this.setState({\n                paginationIndex: index\n            })\n        }\n\n        if (overflowRef && index !== paginationIndex) {\n            const newScrollValue = this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther\n                ? -((overflowRef?.children.item(index) as HTMLDivElement)?.offsetLeft || 0)\n                : -(index * overflowRef.clientWidth)\n\n            overflowRef.style.transform = `translate(${newScrollValue}px)`\n\n            this.setState({\n                paginationIndex: index,\n                scrollValue: newScrollValue\n            })\n        }\n    }\n\n    onOverflowContentMouseDown(event: React.MouseEvent) {\n        event.preventDefault()\n\n        const overflowRef = this.overflowContainerRef.current\n        const { paginationConfig }  = this.props\n\n        if (overflowRef && paginationConfig && paginationConfig.draggable) {\n            overflowRef.style.transition = 'unset'\n            overflowRef.style.transform = `translate(${this.state.scrollValue}px)`\n\n            this.setState({\n                deltaX: event.clientX,\n                scrollLeft: this.state.scrollValue,\n                dragScroll: this.state.scrollValue\n            })\n\n            window.addEventListener('mousemove', this.onOverflowContentDrag)\n            window.addEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n        }\n    }\n\n    onOverflowContentDrag(event: MouseEvent) {\n        const { deltaX, scrollLeft } = this.state\n        const overflowRef = this.overflowContainerRef.current\n        const dragScroll = scrollLeft + (event.clientX - deltaX)\n\n        if (overflowRef && event.clientX !== 0) {\n            overflowRef.style.transform = `translate(${dragScroll}px)`\n\n            this.setState({\n                dragScroll\n            })\n        }\n    }\n\n    onTouchStart(event: React.TouchEvent) {\n        const { scrollValue } = this.state\n        const touch = event.touches.item(0) as Touch\n        const overflowRef = this.overflowContainerRef.current\n\n        this.setState({\n            deltaX: touch.clientX,\n            scrollLeft: scrollValue,\n            dragScroll: scrollValue,\n            deltaY: touch.clientY,\n            horizontal: false,\n            lockedMove: false\n        })\n\n        if (overflowRef) {\n            overflowRef.style.transition = 'unset'\n        }\n\n        this.overflowContainerRef.current?.addEventListener('touchmove', this.onTouchMove, { passive: false })\n        this.overflowContainerRef.current?.addEventListener('touchend', this.deleteOverflowMouseMoveEvent)\n    }\n\n    onTouchMove(event: TouchEvent) {\n        const { deltaX, scrollLeft, deltaY, horizontal, lockedMove } = this.state\n        const touch = event.touches.item(0) as Touch\n        const overflowRef = this.overflowContainerRef.current\n        const dragScroll = scrollLeft + (touch.clientX - deltaX)\n        const { paginationConfig } = this.props\n        const minOffset = paginationConfig?.minOffsetToChangeSlide || 50\n\n        if (!horizontal && lockedMove) {\n            return null\n        }\n\n        if (Math.abs(touch.clientY - deltaY) > minOffset && !lockedMove) {\n            this.setState({\n                horizontal: false,\n                lockedMove: true\n            })\n        }\n\n        if (Math.abs(touch.clientX - deltaX) > minOffset && !lockedMove) {\n            this.setState({\n                horizontal: true,\n                lockedMove: true\n            })\n        }\n\n        if (Math.abs(touch.clientX - deltaX) > minOffset) {\n            event.preventDefault()\n        }\n\n        if (overflowRef && touch.clientX !== 0) {\n            overflowRef.style.transform = `translate(${dragScroll}px)`\n\n            this.setState({\n                dragScroll\n            })\n        }\n\n        return\n    }\n\n    deleteOverflowMouseMoveEvent() {\n        const overflowRef = this.overflowContainerRef.current\n        const { dragScroll, paginationIndex, scrollLeft } = this.state\n        const { paginationConfig } = this.props\n        const minOffset = paginationConfig?.minOffsetToChangeSlide || 150\n        const transition = paginationConfig?.transitionTime || 1\n\n        if (overflowRef && (-scrollLeft + dragScroll < -minOffset)) {\n            const numCols = this.props.numCols || 1\n            const isLastSlide = paginationIndex === Math.ceil(this.childrenCount / numCols) - 1\n            const newValue = isLastSlide\n                ? paginationIndex * overflowRef.clientWidth\n                : (paginationIndex + 1) * overflowRef.clientWidth\n\n            overflowRef.style.transition = `all ${transition}s`\n            overflowRef.style.transform = `translate(-${newValue}px)`\n\n            this.setState({\n                paginationIndex: isLastSlide ? paginationIndex : paginationIndex + 1,\n                scrollValue: -newValue\n            })\n        }\n\n        if (overflowRef && (-scrollLeft + dragScroll > minOffset)) {\n            const isFirstSlide = paginationIndex === 0\n            const newValue = isFirstSlide\n                ? 0\n                : (paginationIndex - 1) * overflowRef.clientWidth\n\n            overflowRef.style.transition = `all ${transition}s`\n            overflowRef.style.transform = `translate(-${newValue}px)`\n\n            this.setState({\n                paginationIndex: isFirstSlide ? paginationIndex : paginationIndex - 1,\n                scrollValue: -newValue\n            })\n        }\n\n        const shouldReturn = C.all(\n            overflowRef,\n            -scrollLeft + dragScroll > -minOffset,\n            -scrollLeft + dragScroll < minOffset\n        )\n\n        if (shouldReturn) {\n            overflowRef!.style.transition = `all ${transition}s`\n            overflowRef!.style.transform = `translate(-${paginationIndex * overflowRef!.clientWidth}px)`\n        }\n\n        window.removeEventListener('mousemove', this.onOverflowContentDrag)\n        window.removeEventListener('mouseup', this.deleteOverflowMouseMoveEvent)\n    }\n\n    renderChildren() {\n        const cols = this.props.numCols as number\n        const spacing = this.props.spacing as number\n        const padding = spacing / 2\n        const children = this.props.children as ChildNode\n\n        return React.Children.map(children, (child: ChildNode, index: number) => {\n            const paddingRight = index !== React.Children.count(children) - 1\n                ? `paddingRight: ${padding}px`\n                : undefined\n            const paddingLeft = index !== 0\n                ? `paddingLeft: ${padding}px`\n                : undefined\n            const flexBasis = cols ? `calc(100% / ${cols})` : 'unset'\n            const width = (this.props.paginationConfig?.withScroll || this.props.paginationConfig?.renderNextToEachOther) ? 'unset' : '100%'\n\n            return (\n                <ChildrenWrapper\n                    id={`${constants.reactSmartScrollerId}-${index}`}\n                    style={{\n                        padding: `0 ${padding}px`,\n                        flexBasis,\n                        paddingRight,\n                        paddingLeft,\n                        width\n                    }}\n                >\n                    {child}\n                </ChildrenWrapper>\n            )\n        })\n    }\n\n    renderDots() {\n        const { paginationConfig } = this.props\n\n        return Array.from(Array(this.numberOfViews)).map((_, index) => {\n            const backgroundColor = this.state.paginationIndex === index\n                ? paginationConfig?.activeDotColor || colors.primary\n                : paginationConfig?.unactiveDotsColor || colors.gray.mediumGray\n\n            return (\n                <Dot\n                    key={index}\n                    style={{ backgroundColor }}\n                    onClick={() => this.onDotClick(index)}\n                />\n            )\n        })\n    }\n\n    renderPagination() {\n        const { renderPagination, paginationConfig } = this.props\n        const customStyles = paginationConfig?.withScroll ? {\n            marginTop: 20\n        } as React.CSSProperties : {\n            marginTop: 'unset'\n        } as React.CSSProperties\n\n        if (renderPagination) {\n            return renderPagination({\n                selectedDot: this.state.paginationIndex,\n                onPrev: this.onPrevious,\n                onNext: this.onNext,\n                childrenCount: this.childrenCount,\n                onDotClick: this.onDotClick\n            })\n        }\n\n        return (\n            <Pagination style={customStyles}>\n                <LeftArrow onClick={this.onPrevious}/>\n                {this.renderDots()}\n                <RightArrow onClick={this.onNext}/>\n            </Pagination>\n        )\n    }\n\n    onOverflowContentScroll() {\n        const overflowRef = this.overflowContainerRef.current\n        const leftScroll = overflowRef?.scrollLeft || 0\n        const properChildrenOffsets = this.childrenWidth?.reduce((acc, element, index) => {\n            return acc.concat({\n                index: index + 1,\n                value: element.value + (acc[index - 1]?.value || 0)\n            })\n        }, [] as Array<{ value: number, index: number }>)\n        const searchedElement = properChildrenOffsets?.reverse()?.find(item => leftScroll >= item.value)\n\n        this.setState({\n            paginationIndex: searchedElement\n                ? searchedElement.index\n                : 0\n        })\n    }\n\n    render() {\n        const { paginationConfig, style } = this.props\n        const transition = paginationConfig?.transitionTime || 1\n        const customStyles = paginationConfig?.withScroll ? {\n            overflowX: 'auto',\n            marginBottom: -20\n        } as React.CSSProperties : {\n            overflowX: 'unset',\n            marginBottom: 'unset'\n        } as React.CSSProperties\n\n        return (\n            <ContainerWrapper style={style}>\n                <Container\n                    ref={this.overflowContainerRef}\n                    style={{\n                        transition: `all ${transition}s`,\n                        flex: 1,\n                        ...customStyles\n                    }}\n                    onScroll={this.onOverflowContentScroll}\n                    onMouseDown={isMobile() ? C.noop : this.onOverflowContentMouseDown}\n                    onTouchStart={isMobile() ? this.onTouchStart : C.noop}\n                >\n                    {this.renderChildren()}\n                </Container>\n                {this.renderPagination()}\n            </ContainerWrapper>\n        )\n    }\n}\n\nexport const ContainerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nexport const Container = styled.div`\n  display: flex;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n`\n\nexport const ChildrenWrapper = styled.div`\n  flex: 0 0 auto;\n  box-sizing: border-box;\n`\n\nexport const Pagination = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n`\n\nexport const LeftArrow = styled.div`\n  border: solid ${colors.black};\n  border-width: 0 2px 2px 0;\n  display: inline-block;\n  padding: 6px;\n  transform: rotate(135deg);\n  -webkit-transform: rotate(135deg);\n  cursor: pointer;\n`\n\nexport const RightArrow = styled.div`\n  border: solid ${colors.black};\n  border-width: 0 2px 2px 0;\n  display: inline-block;\n  padding: 6px;\n  transform: rotate(-45deg);\n  -webkit-transform: rotate(-45deg);\n  cursor: pointer;\n`\n\nexport const Dot = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin: 0 3px;\n  cursor: pointer;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { ReactSmartScrollerProps } from 'lib/types'\nimport { isServer } from 'lib/utils'\nimport { ReactSmartScrollerVertical } from './ReactSmartScrollerVertical'\nimport { ReactSmartScrollerHorizontal } from './ReactSmartScrollerHorizontal'\nimport { ReactSmartScrollerPagination } from './ReactSmartScrollerPagination'\n\nexport class ReactSmartScroller extends React.Component<ReactSmartScrollerProps> {\n    renderMain() {\n        if (this.props.pagination) {\n            return (\n                <ReactSmartScrollerPagination {...this.props}/>\n            )\n        }\n\n        return this.props.vertical ? (\n            <ReactSmartScrollerVertical {...this.props}/>\n        ) : (\n            <ReactSmartScrollerHorizontal {...this.props}/>\n        )\n    }\n\n    render() {\n        return !isServer() ? (\n            <Wrapper>\n                {this.renderMain()}\n            </Wrapper>\n        ) : null\n    }\n}\n\nexport const Wrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n`\n"],"names":["reactSmartScrollerId","PaddingCount","all","params","every","Boolean","noop","extractNumberFromStyle","value","Number","toString","replace","undefined","getPaddingValues","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","zeroPadding","top","right","bottom","left","splittedPadding","split","paddingValuesCount","length","paddingValues","map","One","Two","paddingVertical","paddingHorizontal","Three","Four","isServer","window","checkAgent","agentName","navigator","userAgent","includes","isIpad","isIOS","isAndroid","isMacOs","isMobile","colors","primary","secondary","typography","red","white","black","peterRiver","sunflower","gray","lightGray","mediumGray","darkGray","ReactSmartScrollerVertical","props","scrollContainerHeight","deltaYOrigin","deltaY","thumbWidth","trackWidth","scrollHeight","scrollTop","trackPadding","ratio","React","createRef","measureContainers","bind","onMouseDown","onMouseDrag","onOverflowContentScroll","deleteMouseMoveEvent","onScrollbarClick","onOverflowContentMouseDown","onOverflowContentDrag","deleteOverflowMouseMoveEvent","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","setStartPosition","startAt","overflowRef","overflowContainerRef","current","startElement","offset","center","clientHeight","offsetTop","scrollContainerReducedHeight","state","event","overflownRef","thumbRef","trackRef","areRefsCurrent","C","maximumOffset","offsetHeight","setState","offsetWidth","clientWidth","type","scrollOffset","scroll","style","preventDefault","clientY","shouldReturn","getBoundingClientRect","behavior","zero","isBetweenClientHeight","criticalDimension","criticalScrollerDimensions","renderThumb","percentageWidth","toFixed","height","thumb","cloneElement","ref","position","cursor","RectangleThumb","renderScrollbar","display","shouldRenderScrollbar","Track","onClick","color","rightOffset","trackProps","EmptyAbsolute","renderChildren","cols","numCols","spacing","children","Children","child","index","count","extendedChild","ChildrenWrapper","id","constants","marginRight","contentMargin","render","draggable","Content","onScroll","windowsScrollWidth","marginWidth","margin","document","getElementById","startIndex","Component","styled","div","ReactSmartScrollerHorizontal","scrollContainerWidth","deltaXOrigin","deltaX","thumbHeight","trackHeight","scrollWidth","scrollLeft","numberOfViews","paginationIndex","onNext","onPrevious","onDotClick","scrollContainerReducedWidth","offsetLeft","clientX","isBetweenClientWidth","leftScroll","properChildrenOffsets","childrenWidth","reduce","acc","element","concat","searchedElement","reverse","find","item","flexBasis","marginBottom","width","pagination","customStyles","paginationConfig","withScroll","paginationRef","bottomOffset","newScrollValue","renderDots","Array","from","_","backgroundColor","activeDotColor","unactiveDotsColor","Dot","key","renderPagination","marginTop","customPagination","selectedDot","onPrev","childrenCount","Pagination","LeftArrow","RightArrow","SecondWrapper","windowsScrollHeight","marginHeight","Math","ceil","vertical","ReactSmartScrollerPagination","scrollValue","dragScroll","horizontal","lockedMove","onTouchMove","onTouchStart","updatePosition","page","maxChildrenPage","checkedPage","transform","infinite","isLast","abs","renderNextToEachOther","transition","touch","touches","passive","minOffset","minOffsetToChangeSlide","transitionTime","isLastSlide","newValue","isFirstSlide","overflowX","ContainerWrapper","Container","flex","ReactSmartScroller","renderMain","Wrapper"],"mappings":"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"}